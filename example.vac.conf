#
# Example /etc/vac.conf file for Vac
#
# See http://www.gridpp.ac.uk/vac/ for more about Vac
#
# You must replace domain names ending in .example.com with
# the ones for your own site.
#
# The 2 domain names below are:
#
# vac01.example.com - the Vac space name (used as the CE name where necessary)
#  wn01.example.com - the name of this factory machine
#

[settings]
# Name of this vac space. Should be a DNS-like name, and will be needed to
# when referring to this vac space as a virtual CE in other systems.
vac_space = vac01.example.com

# MiB of memory allocated to each VM.
mb_per_machine = 2048

# total_machines allows you to say how many VMs Vac will manage.
# Vac will take the hostname of the factory to make the name of the VMs.
# On wn01.example.com, they will be wn01-00.example.com, 
# wn01-01.example.com, wn01-02.example.com, ...
total_machines = 1

[factories]
# A list of all the factory machines in this space. To add more factories,
# add them to the names= line, separated by spaces. You can use '\' as the
# last character of a line to continue the name= assignment.
names = wn01.example.com

[vmtype example]
# This is an image file of the correct type for your hypervisor (please use
# KVM) You can get CERNVM images from http://cernvm.cern.ch/portal/downloads
root_image = /var/lib/vac/images/cernvm-batch-node-2.6.0-4-1-x86_64.hdd

# This ssh key will be enabled in authorized_keys inside the VM so you can
# get in as root with ssh.
rootpublickey = /root/.ssh/id_rsa.pub

# These three files are in /var/lib/vac/vmtypes/example
user_data = user_data
prolog = prolog.sh
epilog = epilog.sh

# The vac-shutdown-vm script from /var/lib/vac/bin/ must be in the directory
# /var/lib/vac/vmtypes/example/shared/ where it will be visible in the VM
shutdown_command = /etc/vmtypefiles/vac-shutdown-vm

# Timings, see vac.conf(5)
backoff_seconds=600
fizzle_seconds=600
max_wallclock_seconds=86400

# Copy the contents of /etc/machineoutputs/ to the file
# /var/log/vacd-machineoutputs when the VM finishes.
log_machineoutputs=True

# Only one VM type defined. More can be added, one per line.
# The shares will be normalized to total 100% by Vac. 
[targetshares]
example = 1

